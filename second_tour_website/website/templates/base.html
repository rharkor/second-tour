<!doctype html>
<html lang="fr">

<head>
  <!-- Boostrap -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css" />

  <!-- Header -->
  <link rel="stylesheet" href="{{url_for('static', filename='main.css')}}">

  <title>{% block title %}{% endblock %}</title>

  <link rel="shortcut icon" type="image/x-icon" href="{{url_for('static', filename='img/logo_square.ico')}}" />

  {% block head %}{% endblock %}
</head>

<body>
  <main id="main">
    {% block content %}{% endblock %}

    <!--Background-->
    <canvas class="background"></canvas>
  </main>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>

  <!--To pdf-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.6/jspdf.plugin.autotable.min.js"></script>
  <!--To zip-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.7.1/jszip.min.js"
    integrity="sha512-xQBQYt9UcgblF6aCMrwU1NkVA7HCXaSN2oq0so80KO+y68M+n64FOcqgav4igHe6D5ObBLIf68DWv+gfBowczg=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <!--File saver-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.0/FileSaver.min.js"
    integrity="sha512-csNcFYJniKjJxRWRV1R7fvnXrycHP6qDR21mgz1ZP55xY5d+aHLfo9/FcGDQLfn2IfngbAHd8LdfsagcCqgTcQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <!--Background-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/particlesjs/2.2.3/particles.min.js"
    integrity="sha512-jq8sZI0I9Og0nnZ+CfJRnUzNSDKxr/5Bvha5bn7AHzTnRyxUfpUArMzfH++mwE/hb2efOo1gCAgI+1RMzf8F7g=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script>
    window.onload = function () {
      Particles.init({
        selector: '.background',
        connectParticles: true,
        color: "#65348D",
      });
    };
  </script>


  <!-- Finder name -->
  <script>
    function nameFinder() {
      // Declare variables
      var input, filter, table, tr, td, i, txtValue;
      input = document.getElementById("search-name");
      filter = input.value.toUpperCase();
      table = document.getElementById("calendar");
      tr = table.getElementsByTagName("tr");

      // Loop through all table rows, and hide those who don't match the search query
      for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("td")[0];
        if (td) {
          txtValue = td.textContent || td.innerText;
          if (txtValue.toUpperCase().indexOf(filter) > -1) {
            tr[i].style.display = "";
          } else if (tr[i].getAttribute("class") != null) {
            if (!tr[i].getAttribute("class").includes("not-null")) {
              tr[i].style.display = "none";
            }
          } else {
            tr[i].style.display = "none";
          }
          console.log(tr[i].getAttribute("class"))
        }
      }
    }



    function finder(var_x = null, cur_filter = null) {
      // Declare variables
      var elements = document.getElementsByClassName("finder");
      var filter, table, tr, td, i, txtValue;
      table = document.getElementById("calendar");
      tr = table.getElementsByTagName("tr");

      // Loop through all table rows, and hide those who don't match the search query
      for (i = 0; i < tr.length; i++) {
        var match = true;
        if (var_x == null) {
          for (var x = 0; x < elements.length; x++) {
            filter = elements[x].value.toUpperCase();
            td = tr[i].getElementsByTagName("td")[x];
            if (td) {
              txtValue = td.textContent || td.innerText;
              if (txtValue.toUpperCase().indexOf(filter) > -1) {
              } else if (tr[i].getAttribute("class") != null) {
                if (!tr[i].getAttribute("class").includes("not-null")) {
                  match = false;
                }
              } else {
                match = false;
              }
            }
          }
        } else {
          filter = elements[cur_filter].value.toUpperCase();
          td = tr[i].getElementsByTagName("td")[var_x];
          if (td) {
            txtValue = td.textContent || td.innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
            } else if (tr[i].getAttribute("class") != null) {
              if (!tr[i].getAttribute("class").includes("not-null")) {
                match = false;
              }
            } else {
              match = false;
            }
          }
        }
        if (match) {
          tr[i].style.display = "";
        } else {
          tr[i].style.display = "none";
        }
      }
    }
  </script>
  <script>
    const togglePassword = document.querySelector('#togglePassword');
    const password = document.querySelector('#floatingPassword');

    if (togglePassword && password) {
      togglePassword.addEventListener('click', function (e) {
        // toggle the type attribute
        const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
        password.setAttribute('type', type);
        // toggle the eye / eye slash icon
        this.classList.toggle('bi-eye');
      });
    }
  </script>
  <script>
    window.addEventListener("DOMContentLoaded", (event) => {

      document.querySelectorAll('select.break-doublons').forEach((select) => {
        let options = [];
        for (let index = 0; index < select.options.length; index++) {
          option = select.options[index];
          if (options.includes(option.value)) {
            option.remove();
            index--;
          } else {
            options.push(option.value);
          }
        };
      })
    });
  </script>
  <script>
    function centered_text(text, y, doc) {
      var textWidth = doc.getStringUnitWidth(text) * doc.internal.getFontSize() / doc.internal.scaleFactor;
      var textOffset = (doc.internal.pageSize.width - textWidth) / 2;
      doc.text(textOffset, y, text);
    }
  </script>
  {% block script %}
  {% endblock %}
</body>

<footer class="text-center text-white " style="background-color: #4c5bffa2; ;">
  {% block footer %}
  {% endblock %}
</footer>

</html>